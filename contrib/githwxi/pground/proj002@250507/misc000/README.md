# Hello from a webpage

Let us build a trivial webpage in which there is a button that can be
clicked to issue an alert. The very point of this exercise is to show
how a function implemented in ATS3 can be called inside JS.

We first create a simple html file `hello.html`, where we have
the following two lines for loading JS code from the directory where
the file is stored:

```
  <script src="./OUTS/hello_cats.js"></script>
  <script src="./OUTS/hello_dats.js"></script>
```

The first file `hello_cats.js` is manually written that contains the
following function:
  
```
function CATS_hello$onclick() {
    DATS_hello$onclick((msg) => alert(msg))
}
```
And `CATS_hello$onclick` is the callback function attached to the
button declared in `hello.html`.

Inside `hello.dats`, we have the following lines:

```
#include
"prelude/HATS/prelude_dats.hats"
#include
"prelude/HATS/prelude_JS_dats.hats"
#extern
fun
DATS_hello$onclick
(work: strn -> void): void = $extnam()
#implfun
DATS_hello$onclick(work) = work("Hello from ATS3!")
```

The syntax `$extnam()` indicates (to the compiler XATS2JS) that the
same name `DATS_hello$onclick` should be given to the counterpart
function of `DATS_hello$onclick` in the JS code generated by XATS2JS
(from compiling `hello.dats`). Without `$extnam()`, XATS2JS may choose
something different as the name for this counterpart function in JS.

As the name for this counterpart function is known, we are able to
call it inside `hello_cats.js`. This shows how to call ATS3 functions
from JS. The very same idea allows JS functions to be called from ATS3
as well. However, we should probably emphasize that minimizing the
need to call from one side to the other side is in general considered
a good programming style and one should follow it.

Happy ATS programming!
